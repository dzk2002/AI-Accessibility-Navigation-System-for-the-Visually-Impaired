<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PC to Phone Communication</title>
</head>
<body>
    <h1>Send Message to Phone</h1>

    <script>
        // 定义一个函数来发送消息
        function sendMessage(message) {
            fetch('/send_to_phone', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({message: message})
            })
            .then(response => response.json())
            .then(data => {
                // 在此处显示发送成功的消息
                console.log('Message sent:', data);
            })
            .catch(error => {
                // 错误处理
                console.error('Error:', error);
            });
        }

        // 当页面加载完成后，自动发送预定义的消息
        window.onload = function() {
            var defaultMessage = "This is an automatic message"; // 预设的消息
            sendMessage(defaultMessage);
        };
    </script>
</body>
</html>
